<!-- Latest Tweet Widget -->
{{ $tweetEndpoint := "https://splendid-beijinho-cc65f7.netlify.app/.netlify/functions/pinned-tweet" }}
{{ $remote := resources.GetRemote $tweetEndpoint }}

{{ if $remote }}
  {{ $tweetData := $remote | transform.Unmarshal }}
  {{ with $tweetData }}
    {{ with .tweet }}
      <section class="tweet-widget br3 pa3 pa4-ns ba b--black-10 shadow-4 mt4">
        <div class="tc mb3">
          <!-- X (Twitter) icon -->
          <svg class="tweet-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-label="X logo" role="img">
            <path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z" />
          </svg>
        </div>
        <blockquote class="lh-copy arabic-text f4 mb3">
          {{ .text }}
        </blockquote>
        <div class="tc mt3">
          <a href="{{ .url }}" target="_blank" rel="noopener noreferrer" class="db mb2 link dim f6 f5-ns gray">
            {{ with .datetime }}<time datetime="{{ . }}">{{ . }}</time>{{ end }}
          </a>
          <a href="https://x.com/ebrahimuae1" target="_blank" rel="noopener noreferrer" class="tweet-btn inline-flex items-center pv2 ph3 br-pill bg-black white hover-bg-dark-gray f6 f5-ns">
            المزيد ↗
          </a>
        </div>
      </section>
    {{ end }}
  {{ end }}
{{ end }}

<style>
  /* Tweet widget custom styling */
  .tweet-widget {
    background-color: #fdfdfd;
  }
  .tweet-btn {
    text-decoration: none;
    transition: background-color 0.2s ease;
    color: #ffffff !important;
  }
  .tweet-btn:hover {
    background-color: #2563eb;
  }
  .tweet-icon {
    width: 32px;
    height: 32px;
    fill: currentColor;
    color: #000000;
  }
  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    .tweet-widget {
      background-color: #2d2d2d;
      border-color: #444 !important;
    }
    .tweet-btn {
      background-color: #1e3a8a;
      color: #ffffff !important;
    }
    .tweet-btn:hover {
      background-color: #2563eb;
    }
    .tweet-icon {
      color: #ffffff;
    }
  }
</style> 